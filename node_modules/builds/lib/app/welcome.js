'use strict';
const { dialog } = require('electron').remote;
const { ipcRenderer } = require('electron');

document.querySelector('.open-folder').addEventListener('click', ev => {
  const result = dialog.showOpenDialog({
    properties: [ 'openDirectory', 'createDirectory' ]
  });
  if (result.length > 0) {
    ipcRenderer.send('open-directory', result[0]);
  }
});

document.ondragover = document.ondrop = (ev) => {
  ev.preventDefault();
};

document.body.ondrop = (ev) => {
  ev.preventDefault();
  ipcRenderer.send('open-directory', ev.dataTransfer.files[0].path);
};
