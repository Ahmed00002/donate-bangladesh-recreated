module.exports.getNamedImportSpecifiers = function (nodePath, allModuleNames) {
  if (!Array.isArray(allModuleNames)) allModuleNames = [ allModuleNames ];

  const sourcePath = nodePath.get('source');
  if (!sourcePath || !sourcePath.node) return null;
  if (!sourcePath.isStringLiteral()) return null;
  const importedModule = sourcePath.node.value;
  if (!allModuleNames.includes(importedModule)) return null;

  const specifiers = nodePath.get('specifiers');
  if (!specifiers) return null;
  return specifiers;
};

module.exports.isNamedRequire = function (nodePath, allModuleNames) {
  if (!Array.isArray(allModuleNames)) allModuleNames = [ allModuleNames ];

  const callee = nodePath.get('callee');
  if (callee.isIdentifier() && callee.equals('name', 'require')) {
    const arg = nodePath.get('arguments')[0];
    if (arg && arg.isStringLiteral() && allModuleNames.includes(arg.node.value)) {
      return true;
    }
  }
  return false;
};
